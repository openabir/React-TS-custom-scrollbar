{"version":3,"file":"index.esm.js","sources":["../src/utils.ts","../src/components/Scrollbar.tsx"],"sourcesContent":["/**\n * Get scroll values for an element\n */\nexport function getScrollValues(element: HTMLElement) {\n  const {\n    scrollLeft,\n    scrollTop,\n    scrollWidth,\n    scrollHeight,\n    clientWidth,\n    clientHeight\n  } = element;\n\n  return {\n    left: scrollLeft / (scrollWidth - clientWidth) || 0,\n    top: scrollTop / (scrollHeight - clientHeight) || 0,\n    scrollLeft,\n    scrollTop,\n    scrollWidth,\n    scrollHeight,\n    clientWidth,\n    clientHeight\n  };\n}\n\n/**\n * Check if element is a DOM element\n */\nexport function isDOMElement(element: any): element is HTMLElement {\n  return element && typeof element === 'object' && element.nodeType === 1 && typeof element.style === 'object';\n}\n\n/**\n * Return false if passive events aren't supported, otherwise return an object with passive: true\n */\nexport const getPassiveOptions = () => {\n  let passiveSupported = false;\n\n  try {\n    const options = {\n      get passive() {\n        passiveSupported = true;\n        return true;\n      }\n    };\n\n    // Use type assertion to handle the options object\n    window.addEventListener('test', () => {}, options as AddEventListenerOptions);\n    window.removeEventListener('test', () => {}, options as AddEventListenerOptions);\n  } catch (err) {\n    passiveSupported = false;\n  }\n\n  return passiveSupported ? { passive: true } : false;\n};\n\n/**\n * Calculate thumb size\n */\nexport function getThumbSize({ thumbMinSize, trackSize, contentSize }: { thumbMinSize: number; trackSize: number; contentSize: number }) {\n  const ratio = trackSize / contentSize;\n  const thumbSize = Math.max(ratio * trackSize, thumbMinSize);\n  return thumbSize;\n}\n\n/**\n * Calculate thumb position\n */\nexport function getThumbPosition({ thumbSize, trackSize, contentSize, scrollPosition }: \n  { thumbSize: number; trackSize: number; contentSize: number; scrollPosition: number }) {\n  const maxScrollPosition = contentSize - trackSize;\n  const maxThumbPosition = trackSize - thumbSize;\n  const ratio = maxThumbPosition / maxScrollPosition;\n  return scrollPosition * ratio;\n}","import React, { useState, useRef, useEffect, useCallback } from 'react';\nimport { ScrollbarProps, ScrollValues } from '../types';\nimport { getScrollValues, isDOMElement, getPassiveOptions, getThumbSize, getThumbPosition } from '../utils';\n\n// Default component styles\nconst containerStyle: React.CSSProperties = {\n  position: 'relative',\n  overflow: 'hidden',\n  width: '100%',\n  height: '100%'\n};\n\nconst viewStyle: React.CSSProperties = {\n  position: 'absolute',\n  top: 0,\n  left: 0,\n  right: 0,\n  bottom: 0,\n  overflow: 'scroll',\n  WebkitOverflowScrolling: 'touch'\n};\n\nconst trackHorizontalStyle: React.CSSProperties = {\n  position: 'absolute',\n  height: 6,\n  right: 2,\n  bottom: 2,\n  left: 2,\n  borderRadius: 3\n};\n\nconst trackVerticalStyle: React.CSSProperties = {\n  position: 'absolute',\n  width: 6,\n  right: 2,\n  bottom: 2,\n  top: 2,\n  borderRadius: 3\n};\n\nconst thumbHorizontalStyle: React.CSSProperties = {\n  position: 'absolute',\n  height: '100%',\n  cursor: 'pointer',\n  borderRadius: 'inherit',\n  backgroundColor: 'rgba(0, 0, 0, 0.2)'\n};\n\nconst thumbVerticalStyle: React.CSSProperties = {\n  position: 'absolute',\n  width: '100%',\n  cursor: 'pointer',\n  borderRadius: 'inherit',\n  backgroundColor: 'rgba(0, 0, 0, 0.2)'\n};\n\n// Default props\nconst defaultProps: Partial<ScrollbarProps> = {\n  autoHide: false,\n  autoHideTimeout: 1000,\n  autoHideDuration: 200,\n  autoHeight: false,\n  autoHeightMin: 0,\n  autoHeightMax: 200,\n  thumbMinSize: 30,\n  universal: false,\n  hideTracksWhenNotNeeded: false\n};\n\nconst Scrollbar: React.FC<ScrollbarProps> = (props) => {\n  // Merge default props with provided props\n  const {\n    onScrollStart,\n    onScrollStop,\n    onScroll,\n    onScrollFrame,\n    onUpdate,\n    renderView,\n    renderTrackHorizontal,\n    renderTrackVertical,\n    renderThumbHorizontal,\n    renderThumbVertical,\n    autoHide,\n    autoHideTimeout,\n    autoHideDuration,\n    autoHeight,\n    autoHeightMin,\n    autoHeightMax,\n    thumbMinSize,\n    universal,\n    className,\n    style,\n    hideTracksWhenNotNeeded,\n    children\n  } = { ...defaultProps, ...props };\n\n  // Component state\n  const [scrollValues, setScrollValues] = useState<ScrollValues>({\n    left: 0,\n    top: 0,\n    scrollLeft: 0,\n    scrollTop: 0,\n    scrollWidth: 0,\n    scrollHeight: 0,\n    clientWidth: 0,\n    clientHeight: 0\n  });\n  const [isDragging, setIsDragging] = useState(false);\n  const [isScrolling, setIsScrolling] = useState(false);\n  const [isTrackMouseOver, setIsTrackMouseOver] = useState(false);\n  const [showTracks, setShowTracks] = useState(!autoHide);\n\n  // Refs\n  const containerRef = useRef<HTMLDivElement>(null);\n  const viewRef = useRef<HTMLDivElement>(null);\n  const trackHorizontalRef = useRef<HTMLDivElement>(null);\n  const trackVerticalRef = useRef<HTMLDivElement>(null);\n  const thumbHorizontalRef = useRef<HTMLDivElement>(null);\n  const thumbVerticalRef = useRef<HTMLDivElement>(null);\n  const scrollingRef = useRef<boolean>(false);\n  const scrollTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n  const hideTracksTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n  const dragStartRef = useRef<{ x: number; y: number; left: number; top: number } | null>(null);\n\n  // Calculate if tracks should be visible\n  const hasHorizontalTrack = scrollValues.scrollWidth > scrollValues.clientWidth;\n  const hasVerticalTrack = scrollValues.scrollHeight > scrollValues.clientHeight;\n  const showHorizontalTrack = !hideTracksWhenNotNeeded || hasHorizontalTrack;\n  const showVerticalTrack = !hideTracksWhenNotNeeded || hasVerticalTrack;\n\n  // Update scroll values\n  const handleUpdate = useCallback(() => {\n    if (!viewRef.current) return;\n\n    const values = getScrollValues(viewRef.current);\n    setScrollValues(values);\n\n    if (onUpdate) {\n      onUpdate(values);\n    }\n  }, [onUpdate]);\n\n  // Handle scroll events\n  const handleScroll = useCallback(() => {\n    if (!viewRef.current) return;\n\n    const values = getScrollValues(viewRef.current);\n    setScrollValues(values);\n\n    if (onScroll) {\n      onScroll(values);\n    }\n\n    // Handle scroll start/stop events\n    if (!scrollingRef.current) {\n      scrollingRef.current = true;\n      setIsScrolling(true);\n      if (onScrollStart) {\n        onScrollStart();\n      }\n    }\n\n    // Handle scroll frame\n    if (onScrollFrame) {\n      onScrollFrame(values);\n    }\n\n    // Reset scroll timeout\n    if (scrollTimeoutRef.current) {\n      clearTimeout(scrollTimeoutRef.current);\n    }\n\n    scrollTimeoutRef.current = setTimeout(() => {\n      scrollingRef.current = false;\n      setIsScrolling(false);\n      if (onScrollStop) {\n        onScrollStop();\n      }\n    }, 100);\n  }, [onScroll, onScrollFrame, onScrollStart, onScrollStop]);\n\n  // Handle auto-hide behavior\n  const handleTrackMouseEnter = useCallback(() => {\n    setIsTrackMouseOver(true);\n    setShowTracks(true);\n  }, []);\n\n  const handleTrackMouseLeave = useCallback(() => {\n    setIsTrackMouseOver(false);\n    if (!isDragging && !isScrolling && autoHide) {\n      if (hideTracksTimeoutRef.current) {\n        clearTimeout(hideTracksTimeoutRef.current);\n      }\n      hideTracksTimeoutRef.current = setTimeout(() => {\n        setShowTracks(false);\n      }, autoHideTimeout);\n    }\n  }, [autoHide, autoHideTimeout, isDragging, isScrolling]);\n\n  // Handle thumb dragging\n  const handleDragStart = useCallback((event: React.MouseEvent | MouseEvent, axis: 'x' | 'y') => {\n    event.preventDefault();\n    event.stopPropagation();\n\n    if (!viewRef.current) return;\n\n    const { clientX, clientY } = event;\n    const { scrollLeft, scrollTop } = viewRef.current;\n\n    setIsDragging(true);\n    dragStartRef.current = {\n      x: clientX,\n      y: clientY,\n      left: scrollLeft,\n      top: scrollTop\n    };\n\n    // Add event listeners for drag\n    document.addEventListener('mousemove', handleDrag);\n    document.addEventListener('mouseup', handleDragEnd);\n    document.body.style.cursor = 'grabbing';\n  }, []);\n\n  const handleDrag = useCallback((event: MouseEvent) => {\n    if (!viewRef.current || !dragStartRef.current) return;\n\n    const { clientX, clientY } = event;\n    const { x, y, left, top } = dragStartRef.current;\n    const { clientWidth, clientHeight, scrollWidth, scrollHeight } = viewRef.current;\n\n    // Calculate new scroll position\n    if (thumbHorizontalRef.current && clientWidth < scrollWidth) {\n      const deltaX = clientX - x;\n      const thumbSize = thumbHorizontalRef.current.clientWidth;\n      const trackSize = trackHorizontalRef.current?.clientWidth || 0;\n      const scrollRatio = (scrollWidth - clientWidth) / (trackSize - thumbSize);\n      const newScrollLeft = left + deltaX * scrollRatio;\n\n      viewRef.current.scrollLeft = newScrollLeft;\n    }\n\n    if (thumbVerticalRef.current && clientHeight < scrollHeight) {\n      const deltaY = clientY - y;\n      const thumbSize = thumbVerticalRef.current.clientHeight;\n      const trackSize = trackVerticalRef.current?.clientHeight || 0;\n      const scrollRatio = (scrollHeight - clientHeight) / (trackSize - thumbSize);\n      const newScrollTop = top + deltaY * scrollRatio;\n\n      viewRef.current.scrollTop = newScrollTop;\n    }\n  }, []);\n\n  const handleDragEnd = useCallback(() => {\n    setIsDragging(false);\n    dragStartRef.current = null;\n\n    // Remove event listeners\n    document.removeEventListener('mousemove', handleDrag);\n    document.removeEventListener('mouseup', handleDragEnd);\n    document.body.style.cursor = '';\n\n    // Handle auto-hide\n    if (autoHide && !isTrackMouseOver && !isScrolling) {\n      if (hideTracksTimeoutRef.current) {\n        clearTimeout(hideTracksTimeoutRef.current);\n      }\n      hideTracksTimeoutRef.current = setTimeout(() => {\n        setShowTracks(false);\n      }, autoHideTimeout);\n    }\n  }, [autoHide, autoHideTimeout, isScrolling, isTrackMouseOver]);\n\n  // Handle track click\n  const handleTrackClick = useCallback((event: React.MouseEvent, axis: 'x' | 'y') => {\n    if (!viewRef.current) return;\n\n    const { clientX, clientY } = event;\n    const { scrollLeft, scrollTop, clientWidth, clientHeight, scrollWidth, scrollHeight } = viewRef.current;\n\n    if (axis === 'x' && trackHorizontalRef.current && thumbHorizontalRef.current) {\n      const { left } = trackHorizontalRef.current.getBoundingClientRect();\n      const thumbSize = thumbHorizontalRef.current.clientWidth;\n      const clickPosition = clientX - left;\n      const trackSize = trackHorizontalRef.current.clientWidth;\n      const scrollRatio = (scrollWidth - clientWidth) / (trackSize - thumbSize);\n      const thumbPosition = getThumbPosition({\n        thumbSize,\n        trackSize,\n        contentSize: scrollWidth,\n        scrollPosition: scrollLeft\n      });\n\n      // Calculate new scroll position\n      const newScrollLeft = ((clickPosition - thumbSize / 2) * scrollRatio);\n      viewRef.current.scrollLeft = newScrollLeft;\n    }\n\n    if (axis === 'y' && trackVerticalRef.current && thumbVerticalRef.current) {\n      const { top } = trackVerticalRef.current.getBoundingClientRect();\n      const thumbSize = thumbVerticalRef.current.clientHeight;\n      const clickPosition = clientY - top;\n      const trackSize = trackVerticalRef.current.clientHeight;\n      const scrollRatio = (scrollHeight - clientHeight) / (trackSize - thumbSize);\n      const thumbPosition = getThumbPosition({\n        thumbSize,\n        trackSize,\n        contentSize: scrollHeight,\n        scrollPosition: scrollTop\n      });\n\n      // Calculate new scroll position\n      const newScrollTop = ((clickPosition - thumbSize / 2) * scrollRatio);\n      viewRef.current.scrollTop = newScrollTop;\n    }\n  }, []);\n\n  // Initialize and cleanup\n  useEffect(() => {\n    // Initial update\n    handleUpdate();\n\n    // Add resize observer\n    const resizeObserver = new ResizeObserver(() => {\n      handleUpdate();\n    });\n\n    if (containerRef.current) {\n      resizeObserver.observe(containerRef.current);\n    }\n\n    if (viewRef.current) {\n      resizeObserver.observe(viewRef.current);\n    }\n\n    // Cleanup\n    return () => {\n      if (scrollTimeoutRef.current) {\n        clearTimeout(scrollTimeoutRef.current);\n      }\n\n      if (hideTracksTimeoutRef.current) {\n        clearTimeout(hideTracksTimeoutRef.current);\n      }\n\n      resizeObserver.disconnect();\n\n      document.removeEventListener('mousemove', handleDrag);\n      document.removeEventListener('mouseup', handleDragEnd);\n    };\n  }, [handleDrag, handleDragEnd, handleUpdate]);\n\n  // Calculate styles\n  const containerStyles: React.CSSProperties = {\n    ...containerStyle,\n    ...(autoHeight && {\n      height: 'auto',\n      minHeight: typeof autoHeightMin === 'number' ? `${autoHeightMin}px` : autoHeightMin,\n      maxHeight: typeof autoHeightMax === 'number' ? `${autoHeightMax}px` : autoHeightMax\n    }),\n    ...style\n  };\n\n  const thumbHorizontalWidth = hasHorizontalTrack && thumbHorizontalRef.current\n    ? getThumbSize({\n        thumbMinSize: thumbMinSize || 0,\n        trackSize: scrollValues.clientWidth,\n        contentSize: scrollValues.scrollWidth\n      })\n    : 0;\n\n  const thumbHorizontalX = hasHorizontalTrack && thumbHorizontalWidth\n    ? getThumbPosition({\n        thumbSize: thumbHorizontalWidth,\n        trackSize: scrollValues.clientWidth,\n        contentSize: scrollValues.scrollWidth,\n        scrollPosition: scrollValues.scrollLeft\n      })\n    : 0;\n\n  const thumbVerticalHeight = hasVerticalTrack && thumbVerticalRef.current\n    ? getThumbSize({\n        thumbMinSize: thumbMinSize || 0,\n        trackSize: scrollValues.clientHeight,\n        contentSize: scrollValues.scrollHeight\n      })\n    : 0;\n\n  const thumbVerticalY = hasVerticalTrack && thumbVerticalHeight\n    ? getThumbPosition({\n        thumbSize: thumbVerticalHeight,\n        trackSize: scrollValues.clientHeight,\n        contentSize: scrollValues.scrollHeight,\n        scrollPosition: scrollValues.scrollTop\n      })\n    : 0;\n\n  // Render custom components or default ones\n  const customViewStyle = renderView ? {} : viewStyle;\n  const customTrackHorizontalStyle = renderTrackHorizontal ? {} : trackHorizontalStyle;\n  const customTrackVerticalStyle = renderTrackVertical ? {} : trackVerticalStyle;\n  const customThumbHorizontalStyle = renderThumbHorizontal ? {} : thumbHorizontalStyle;\n  const customThumbVerticalStyle = renderThumbVertical ? {} : thumbVerticalStyle;\n\n  // Prepare track visibility styles\n  const trackAutoHeightStyle = autoHeight\n    ? { opacity: 1 }\n    : { opacity: showTracks ? 1 : 0, transition: `opacity ${autoHideDuration}ms` };\n\n  const trackHorizontalVisibilityStyle = showHorizontalTrack ? { display: 'block' } : { display: 'none' };\n  const trackVerticalVisibilityStyle = showVerticalTrack ? { display: 'block' } : { display: 'none' };\n\n  // Render the component\n  return (\n    <div\n      ref={containerRef}\n      className={`react-custom-scrollbar ${className || ''}`}\n      style={containerStyles}\n    >\n      {/* Scrollable view */}\n      {renderView ? (\n        React.createElement(renderView, {\n          ref: viewRef,\n          style: customViewStyle,\n          onScroll: handleScroll,\n          children\n        })\n      ) : (\n        <div\n          ref={viewRef}\n          style={customViewStyle}\n          onScroll={handleScroll}\n        >\n          {children}\n        </div>\n      )}\n\n      {/* Horizontal track */}\n      {renderTrackHorizontal ? (\n        React.createElement(renderTrackHorizontal, {\n          ref: trackHorizontalRef,\n          style: {\n            ...customTrackHorizontalStyle,\n            ...trackAutoHeightStyle,\n            ...trackHorizontalVisibilityStyle\n          },\n          onMouseEnter: handleTrackMouseEnter,\n          onMouseLeave: handleTrackMouseLeave,\n          onClick: (e: React.MouseEvent) => handleTrackClick(e, 'x')\n        })\n      ) : (\n        <div\n          ref={trackHorizontalRef}\n          style={{\n            ...customTrackHorizontalStyle,\n            ...trackAutoHeightStyle,\n            ...trackHorizontalVisibilityStyle\n          }}\n          onMouseEnter={handleTrackMouseEnter}\n          onMouseLeave={handleTrackMouseLeave}\n          onClick={(e) => handleTrackClick(e, 'x')}\n        >\n          {/* Horizontal thumb */}\n          {renderThumbHorizontal ? (\n            React.createElement(renderThumbHorizontal, {\n              ref: thumbHorizontalRef,\n              style: {\n                ...customThumbHorizontalStyle,\n                width: `${thumbHorizontalWidth}px`,\n                transform: `translateX(${thumbHorizontalX}px)`\n              },\n              onMouseDown: (e: React.MouseEvent) => handleDragStart(e, 'x')\n            })\n          ) : (\n            <div\n              ref={thumbHorizontalRef}\n              style={{\n                ...customThumbHorizontalStyle,\n                width: `${thumbHorizontalWidth}px`,\n                transform: `translateX(${thumbHorizontalX}px)`\n              }}\n              onMouseDown={(e) => handleDragStart(e, 'x')}\n            />\n          )}\n        </div>\n      )}\n\n      {/* Vertical track */}\n      {renderTrackVertical ? (\n        React.createElement(renderTrackVertical, {\n          ref: trackVerticalRef,\n          style: {\n            ...customTrackVerticalStyle,\n            ...trackAutoHeightStyle,\n            ...trackVerticalVisibilityStyle\n          },\n          onMouseEnter: handleTrackMouseEnter,\n          onMouseLeave: handleTrackMouseLeave,\n          onClick: (e: React.MouseEvent) => handleTrackClick(e, 'y')\n        })\n      ) : (\n        <div\n          ref={trackVerticalRef}\n          style={{\n            ...customTrackVerticalStyle,\n            ...trackAutoHeightStyle,\n            ...trackVerticalVisibilityStyle\n          }}\n          onMouseEnter={handleTrackMouseEnter}\n          onMouseLeave={handleTrackMouseLeave}\n          onClick={(e) => handleTrackClick(e, 'y')}\n        >\n          {/* Vertical thumb */}\n          {renderThumbVertical ? (\n            React.createElement(renderThumbVertical, {\n              ref: thumbVerticalRef,\n              style: {\n                ...customThumbVerticalStyle,\n                height: `${thumbVerticalHeight}px`,\n                transform: `translateY(${thumbVerticalY}px)`\n              },\n              onMouseDown: (e: React.MouseEvent) => handleDragStart(e, 'y')\n            })\n          ) : (\n            <div\n              ref={thumbVerticalRef}\n              style={{\n                ...customThumbVerticalStyle,\n                height: `${thumbVerticalHeight}px`,\n                transform: `translateY(${thumbVerticalY}px)`\n              }}\n              onMouseDown={(e) => handleDragStart(e, 'y')}\n            />\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Scrollbar;"],"names":["getScrollValues","element","scrollLeft","scrollTop","scrollWidth","scrollHeight","clientWidth","clientHeight","left","top","getThumbSize","_a","thumbMinSize","trackSize","ratio","contentSize","Math","max","getThumbPosition","thumbSize","scrollPosition","containerStyle","position","overflow","width","height","viewStyle","right","bottom","WebkitOverflowScrolling","trackHorizontalStyle","borderRadius","trackVerticalStyle","thumbHorizontalStyle","cursor","backgroundColor","thumbVerticalStyle","defaultProps","autoHide","autoHideTimeout","autoHideDuration","autoHeight","autoHeightMin","autoHeightMax","universal","hideTracksWhenNotNeeded","Scrollbar","props","__assign","onScrollStart","onScrollStop","onScroll","onScrollFrame","onUpdate","renderView","renderTrackHorizontal","renderTrackVertical","renderThumbHorizontal","renderThumbVertical","className","style","children","_b","useState","scrollValues","setScrollValues","_c","isDragging","setIsDragging","_d","isScrolling","setIsScrolling","_e","isTrackMouseOver","setIsTrackMouseOver","_f","showTracks","setShowTracks","containerRef","useRef","viewRef","trackHorizontalRef","trackVerticalRef","thumbHorizontalRef","thumbVerticalRef","scrollingRef","scrollTimeoutRef","hideTracksTimeoutRef","dragStartRef","hasHorizontalTrack","hasVerticalTrack","showHorizontalTrack","showVerticalTrack","handleUpdate","useCallback","current","values","handleScroll","clearTimeout","setTimeout","handleTrackMouseEnter","handleTrackMouseLeave","handleDragStart","event","axis","preventDefault","stopPropagation","clientX","clientY","x","y","document","addEventListener","handleDrag","handleDragEnd","body","deltaX","newScrollLeft","deltaY","newScrollTop","removeEventListener","handleTrackClick","getBoundingClientRect","clickPosition","scrollRatio","top_1","useEffect","resizeObserver","ResizeObserver","observe","disconnect","containerStyles","minHeight","concat","maxHeight","thumbHorizontalWidth","thumbHorizontalX","thumbVerticalHeight","thumbVerticalY","customViewStyle","customTrackHorizontalStyle","customTrackVerticalStyle","customThumbHorizontalStyle","customThumbVerticalStyle","trackAutoHeightStyle","opacity","transition","trackHorizontalVisibilityStyle","display","trackVerticalVisibilityStyle","React","createElement","ref","onMouseEnter","onMouseLeave","onClick","e","transform","onMouseDown"],"mappings":"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"}