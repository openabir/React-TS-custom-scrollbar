import e,{useState as t,useRef as r,useCallback as n,useEffect as o}from"react";var i=function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function c(e){var t=e.scrollLeft,r=e.scrollTop,n=e.scrollWidth,o=e.scrollHeight,i=e.clientWidth,c=e.clientHeight;return{left:t/(n-i)||0,top:r/(o-c)||0,scrollLeft:t,scrollTop:r,scrollWidth:n,scrollHeight:o,clientWidth:i,clientHeight:c}}function l(e){var t=e.thumbMinSize,r=e.trackSize,n=r/e.contentSize;return Math.max(n*r,t)}function u(e){var t=e.thumbSize,r=e.trackSize,n=e.contentSize;return e.scrollPosition*((r-t)/(n-r))}"function"==typeof SuppressedError&&SuppressedError;var a={position:"relative",overflow:"hidden",width:"100%",height:"100%"},s={position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"scroll",WebkitOverflowScrolling:"touch"},h={position:"absolute",height:6,right:2,bottom:2,left:2,borderRadius:3},d={position:"absolute",width:6,right:2,bottom:2,top:2,borderRadius:3},f={position:"absolute",height:"100%",cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0, 0, 0, 0.2)"},m={position:"absolute",width:"100%",cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0, 0, 0, 0.2)"},p={autoHide:!1,autoHideTimeout:1e3,autoHideDuration:200,autoHeight:!1,autoHeightMin:0,autoHeightMax:200,thumbMinSize:30,universal:!1,hideTracksWhenNotNeeded:!1},v=function(v){var g=i(i({},p),v),b=g.onScrollStart,S=g.onScrollStop,y=g.onScroll,H=g.onScrollFrame,z=g.onUpdate,T=g.renderView,E=g.renderTrackHorizontal,W=g.renderTrackVertical,x=g.renderThumbHorizontal,M=g.renderThumbVertical,k=g.autoHide,L=g.autoHideTimeout,w=g.autoHideDuration,C=g.autoHeight,D=g.autoHeightMin,P=g.autoHeightMax,R=g.thumbMinSize;g.universal;var N=g.className,O=g.style,X=g.hideTracksWhenNotNeeded,Y=g.children,V=t({left:0,top:0,scrollLeft:0,scrollTop:0,scrollWidth:0,scrollHeight:0,clientWidth:0,clientHeight:0}),j=V[0],B=V[1],F=t(!1),U=F[0],q=F[1],A=t(!1),G=A[0],I=A[1],J=t(!1),K=J[0],Q=J[1],Z=t(!k),$=Z[0],_=Z[1],ee=r(null),te=r(null),re=r(null),ne=r(null),oe=r(null),ie=r(null),ce=r(!1),le=r(null),ue=r(null),ae=r(null),se=j.scrollWidth>j.clientWidth,he=j.scrollHeight>j.clientHeight,de=!X||se,fe=!X||he,me=n(function(){if(te.current){var e=c(te.current);B(e),z&&z(e)}},[z]),pe=n(function(){if(te.current){var e=c(te.current);B(e),y&&y(e),ce.current||(ce.current=!0,I(!0),b&&b()),H&&H(e),le.current&&clearTimeout(le.current),le.current=setTimeout(function(){ce.current=!1,I(!1),S&&S()},100)}},[y,H,b,S]),ve=n(function(){Q(!0),_(!0)},[]),ge=n(function(){Q(!1),U||G||!k||(ue.current&&clearTimeout(ue.current),ue.current=setTimeout(function(){_(!1)},L))},[k,L,U,G]),be=n(function(e,t){if(e.preventDefault(),e.stopPropagation(),te.current){var r=e.clientX,n=e.clientY,o=te.current,i=o.scrollLeft,c=o.scrollTop;q(!0),ae.current={x:r,y:n,left:i,top:c},document.addEventListener("mousemove",Se),document.addEventListener("mouseup",ye),document.body.style.cursor="grabbing"}},[]),Se=n(function(e){var t,r;if(te.current&&ae.current){var n=e.clientX,o=e.clientY,i=ae.current,c=i.x,l=i.y,u=i.left,a=i.top,s=te.current,h=s.clientWidth,d=s.clientHeight,f=s.scrollWidth,m=s.scrollHeight;if(oe.current&&h<f){var p=n-c,v=oe.current.clientWidth,g=u+p*((f-h)/(((null===(t=re.current)||void 0===t?void 0:t.clientWidth)||0)-v));te.current.scrollLeft=g}if(ie.current&&d<m){var b=o-l,S=(v=ie.current.clientHeight,a+b*((m-d)/(((null===(r=ne.current)||void 0===r?void 0:r.clientHeight)||0)-v)));te.current.scrollTop=S}}},[]),ye=n(function(){q(!1),ae.current=null,document.removeEventListener("mousemove",Se),document.removeEventListener("mouseup",ye),document.body.style.cursor="",!k||K||G||(ue.current&&clearTimeout(ue.current),ue.current=setTimeout(function(){_(!1)},L))},[k,L,G,K]),He=n(function(e,t){if(te.current){var r=e.clientX,n=e.clientY,o=te.current,i=o.scrollLeft,c=o.scrollTop,l=o.clientWidth,a=o.clientHeight,s=o.scrollWidth,h=o.scrollHeight;if("x"===t&&re.current&&oe.current){var d=re.current.getBoundingClientRect().left,f=oe.current.clientWidth,m=r-d,p=(s-l)/((g=re.current.clientWidth)-f);u({thumbSize:f,trackSize:g,contentSize:s,scrollPosition:i});var v=(m-f/2)*p;te.current.scrollLeft=v}if("y"===t&&ne.current&&ie.current){var g,b=ne.current.getBoundingClientRect().top;f=ie.current.clientHeight,m=n-b,p=(h-a)/((g=ne.current.clientHeight)-f);u({thumbSize:f,trackSize:g,contentSize:h,scrollPosition:c});var S=(m-f/2)*p;te.current.scrollTop=S}}},[]);o(function(){me();var e=new ResizeObserver(function(){me()});return ee.current&&e.observe(ee.current),te.current&&e.observe(te.current),function(){le.current&&clearTimeout(le.current),ue.current&&clearTimeout(ue.current),e.disconnect(),document.removeEventListener("mousemove",Se),document.removeEventListener("mouseup",ye)}},[Se,ye,me]);var ze=i(i(i({},a),C&&{height:"auto",minHeight:"number"==typeof D?"".concat(D,"px"):D,maxHeight:"number"==typeof P?"".concat(P,"px"):P}),O),Te=se&&oe.current?l({thumbMinSize:R||0,trackSize:j.clientWidth,contentSize:j.scrollWidth}):0,Ee=se&&Te?u({thumbSize:Te,trackSize:j.clientWidth,contentSize:j.scrollWidth,scrollPosition:j.scrollLeft}):0,We=he&&ie.current?l({thumbMinSize:R||0,trackSize:j.clientHeight,contentSize:j.scrollHeight}):0,xe=he&&We?u({thumbSize:We,trackSize:j.clientHeight,contentSize:j.scrollHeight,scrollPosition:j.scrollTop}):0,Me=T?{}:s,ke=E?{}:h,Le=W?{}:d,we=x?{}:f,Ce=M?{}:m,De=C?{opacity:1}:{opacity:$?1:0,transition:"opacity ".concat(w,"ms")},Pe=de?{display:"block"}:{display:"none"},Re=fe?{display:"block"}:{display:"none"};return e.createElement("div",{ref:ee,className:"react-custom-scrollbar ".concat(N||""),style:ze},T?e.createElement(T,{ref:te,style:Me,onScroll:pe,children:Y}):e.createElement("div",{ref:te,style:Me,onScroll:pe},Y),E?e.createElement(E,{ref:re,style:i(i(i({},ke),De),Pe),onMouseEnter:ve,onMouseLeave:ge,onClick:function(e){return He(e,"x")}}):e.createElement("div",{ref:re,style:i(i(i({},ke),De),Pe),onMouseEnter:ve,onMouseLeave:ge,onClick:function(e){return He(e,"x")}},x?e.createElement(x,{ref:oe,style:i(i({},we),{width:"".concat(Te,"px"),transform:"translateX(".concat(Ee,"px)")}),onMouseDown:function(e){return be(e,"x")}}):e.createElement("div",{ref:oe,style:i(i({},we),{width:"".concat(Te,"px"),transform:"translateX(".concat(Ee,"px)")}),onMouseDown:function(e){return be(e,"x")}})),W?e.createElement(W,{ref:ne,style:i(i(i({},Le),De),Re),onMouseEnter:ve,onMouseLeave:ge,onClick:function(e){return He(e,"y")}}):e.createElement("div",{ref:ne,style:i(i(i({},Le),De),Re),onMouseEnter:ve,onMouseLeave:ge,onClick:function(e){return He(e,"y")}},M?e.createElement(M,{ref:ie,style:i(i({},Ce),{height:"".concat(We,"px"),transform:"translateY(".concat(xe,"px)")}),onMouseDown:function(e){return be(e,"y")}}):e.createElement("div",{ref:ie,style:i(i({},Ce),{height:"".concat(We,"px"),transform:"translateY(".concat(xe,"px)")}),onMouseDown:function(e){return be(e,"y")}})))};export{v as default};
//# sourceMappingURL=index.esm.js.map
