"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};function o(e){var t=e.scrollLeft,n=e.scrollTop,r=e.scrollWidth,o=e.scrollHeight,i=e.clientWidth,c=e.clientHeight;return{left:t/(r-i)||0,top:n/(o-c)||0,scrollLeft:t,scrollTop:n,scrollWidth:r,scrollHeight:o,clientWidth:i,clientHeight:c}}function i(e){var t=e.thumbMinSize,n=e.trackSize,r=n/e.contentSize;return Math.max(r*n,t)}function c(e){var t=e.thumbSize,n=e.trackSize,r=e.contentSize,o=e.scrollPosition,i=r-n;return i<=0?0:o*((n-t)/i)}"function"==typeof SuppressedError&&SuppressedError;var s={position:"relative",overflow:"hidden",width:"100%",height:"100%"},a={position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"scroll",WebkitOverflowScrolling:"touch"},u={position:"absolute",height:6,right:2,bottom:2,left:2,borderRadius:3},l={position:"absolute",width:6,right:2,bottom:2,top:2,borderRadius:3},h={position:"absolute",height:"100%",cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0, 0, 0, 0.2)"},f={position:"absolute",width:"100%",cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0, 0, 0, 0.2)"},d={autoHide:!1,autoHideTimeout:1e3,autoHideDuration:200,autoHeight:!1,autoHeightMin:0,autoHeightMax:200,thumbMinSize:30,universal:!1,hideTracksWhenNotNeeded:!1,a11yEnabled:!0,ariaLabel:"Scrollable content",keyboardScrollAmount:40};function v(){"undefined"==typeof window||window.ResizeObserver||Promise.resolve().then(function(){return P}).then(function(e){window.ResizeObserver=e.default}).catch(function(e){console.error("Failed to load ResizeObserver polyfill:",e)})}var p=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some(function(e,r){return e[0]===t&&(n=r,!0)}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},t}()}(),b="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,m="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),y="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(m):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)};var g=["top","right","bottom","left","width","height","size","weight"],_="undefined"!=typeof MutationObserver,w=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,o=0;function i(){n&&(n=!1,e()),r&&s()}function c(){y(i)}function s(){var e=Date.now();if(n){if(e-o<2)return;r=!0}else n=!0,r=!1,setTimeout(c,t);o=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},e.prototype.connect_=function(){b&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),_?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){b&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;g.some(function(e){return!!~n.indexOf(e)})&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),E=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},M=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||m},S=H(0,0,0,0);function k(e){return parseFloat(e)||0}function O(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(t,n){return t+k(e["border-"+n+"-width"])},0)}function T(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return S;var r=M(e).getComputedStyle(e),o=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n],i=e["padding-"+o];t[o]=k(i)}return t}(r),i=o.left+o.right,c=o.top+o.bottom,s=k(r.width),a=k(r.height);if("border-box"===r.boxSizing&&(Math.round(s+i)!==t&&(s-=O(r,"left","right")+i),Math.round(a+c)!==n&&(a-=O(r,"top","bottom")+c)),!function(e){return e===M(e).document.documentElement}(e)){var u=Math.round(s+i)-t,l=Math.round(a+c)-n;1!==Math.abs(u)&&(s-=u),1!==Math.abs(l)&&(a-=l)}return H(o.left,o.top,s,a)}var x="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof M(e).SVGGraphicsElement}:function(e){return e instanceof M(e).SVGElement&&"function"==typeof e.getBBox};function z(e){return b?x(e)?function(e){var t=e.getBBox();return H(0,0,t.width,t.height)}(e):T(e):S}function H(e,t,n,r){return{x:e,y:t,width:n,height:r}}var R=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=H(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=z(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),L=function(e,t){var n,r,o,i,c,s,a,u=(r=(n=t).x,o=n.y,i=n.width,c=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(s.prototype),E(a,{x:r,y:o,width:i,height:c,top:o,right:r+i,bottom:c+o,left:r}),a);E(this,{target:e,contentRect:u})},W=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new p,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof M(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new R(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof M(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new L(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),D="undefined"!=typeof WeakMap?new WeakMap:new p,A=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=w.getInstance(),r=new W(t,n,this);D.set(this,r)};["observe","unobserve","disconnect"].forEach(function(e){A.prototype[e]=function(){var t;return(t=D.get(this))[e].apply(t,arguments)}});var C=void 0!==m.ResizeObserver?m.ResizeObserver:A,P=Object.freeze({__proto__:null,default:C});exports.default=function(t){var v=r(r({},d),t),p=v.onScrollStart,b=v.onScrollStop,m=v.onScroll,y=v.onScrollFrame,g=v.onUpdate,_=v.renderView,w=v.renderTrackHorizontal,E=v.renderTrackVertical,M=v.renderThumbHorizontal,S=v.renderThumbVertical,k=v.autoHide,O=v.autoHideTimeout,T=v.autoHideDuration,x=v.autoHeight,z=v.autoHeightMin,H=v.autoHeightMax,R=v.thumbMinSize;v.universal;var L=v.className,W=v.style,D=v.hideTracksWhenNotNeeded,A=v.a11yEnabled,C=v.ariaLabel,P=v.keyboardScrollAmount,j=v.children,N=e.useState({left:0,top:0,scrollLeft:0,scrollTop:0,scrollWidth:0,scrollHeight:0,clientWidth:0,clientHeight:0}),V=N[0],q=N[1],B=e.useState(!1),F=B[0],G=B[1],X=e.useState(!1),Y=X[0],I=X[1],U=e.useState(!1),K=U[0],J=U[1],Q=e.useState(!k),Z=Q[0],$=Q[1],ee=e.useRef(null),te=e.useRef(null),ne=e.useRef(null),re=e.useRef(null),oe=e.useRef(null),ie=e.useRef(null),ce=e.useRef(!1),se=e.useRef(null),ae=e.useRef(null),ue=e.useRef(null),le=V.scrollWidth>V.clientWidth,he=V.scrollHeight>V.clientHeight,fe=!D||le,de=!D||he,ve=e.useCallback(function(){if(te.current){var e=o(te.current);q(e),g&&g(e)}},[g]),pe=e.useCallback(function(){if(te.current){var e=o(te.current);q(e),m&&m(e),ce.current||(ce.current=!0,I(!0),p&&p()),y&&y(e),se.current&&clearTimeout(se.current),se.current=setTimeout(function(){ce.current=!1,I(!1),b&&b()},100)}},[m,y,p,b]),be=e.useCallback(function(){J(!0),$(!0)},[]),me=e.useCallback(function(){J(!1),F||Y||!k||(ae.current&&clearTimeout(ae.current),ae.current=setTimeout(function(){$(!1)},O))},[k,O,F,Y]),ye=e.useCallback(function(e,t){if(e.preventDefault(),e.stopPropagation(),te.current){var n=e.clientX,r=e.clientY,o=te.current,i=o.scrollLeft,c=o.scrollTop;G(!0),ue.current={x:n,y:r,left:i,top:c},document.addEventListener("mousemove",ge),document.addEventListener("mouseup",_e),document.body.style.cursor="grabbing"}},[]),ge=e.useCallback(function(e){var t,n;if(te.current&&ue.current){var r=e.clientX,o=e.clientY,i=ue.current,c=i.x,s=i.y,a=i.left,u=i.top,l=te.current,h=l.clientWidth,f=l.clientHeight,d=l.scrollWidth,v=l.scrollHeight;if(oe.current&&h<d){var p=r-c,b=oe.current.clientWidth,m=a+p*((d-h)/(((null===(t=ne.current)||void 0===t?void 0:t.clientWidth)||0)-b));te.current.scrollLeft=m}if(ie.current&&f<v){var y=o-s,g=(b=ie.current.clientHeight,u+y*((v-f)/(((null===(n=re.current)||void 0===n?void 0:n.clientHeight)||0)-b)));te.current.scrollTop=g}}},[]),_e=e.useCallback(function(){G(!1),ue.current=null,document.removeEventListener("mousemove",ge),document.removeEventListener("mouseup",_e),document.body.style.cursor="",!k||K||Y||(ae.current&&clearTimeout(ae.current),ae.current=setTimeout(function(){$(!1)},O))},[k,O,Y,K]),we=e.useCallback(function(e,t){if(te.current){var n=e.clientX,r=e.clientY,o=te.current,i=o.scrollLeft,s=o.scrollTop,a=o.clientWidth,u=o.clientHeight,l=o.scrollWidth,h=o.scrollHeight;if("x"===t&&ne.current&&oe.current){var f=ne.current.getBoundingClientRect().left,d=oe.current.clientWidth,v=n-f,p=(l-a)/((m=ne.current.clientWidth)-d);c({thumbSize:d,trackSize:m,contentSize:l,scrollPosition:i});var b=(v-d/2)*p;te.current.scrollLeft=b}if("y"===t&&re.current&&ie.current){var m,y=re.current.getBoundingClientRect().top;d=ie.current.clientHeight,v=r-y,p=(h-u)/((m=re.current.clientHeight)-d);c({thumbSize:d,trackSize:m,contentSize:h,scrollPosition:s});var g=(v-d/2)*p;te.current.scrollTop=g}}},[]),Ee=e.useCallback(function(e){if(te.current&&A){var t=te.current,n=t.scrollLeft,r=t.scrollTop,o=t.scrollHeight,i=t.scrollWidth,c=t.clientHeight,s=t.clientWidth,a=P||40;switch(e.key){case"ArrowUp":e.preventDefault(),te.current.scrollTop=Math.max(0,r-a);break;case"ArrowDown":e.preventDefault(),te.current.scrollTop=Math.min(o-c,r+a);break;case"ArrowLeft":e.preventDefault(),te.current.scrollLeft=Math.max(0,n-a);break;case"ArrowRight":e.preventDefault(),te.current.scrollLeft=Math.min(i-s,n+a);break;case"Home":e.preventDefault(),te.current.scrollTop=0;break;case"End":e.preventDefault(),te.current.scrollTop=o-c;break;case"PageUp":e.preventDefault(),te.current.scrollTop=Math.max(0,r-c);break;case"PageDown":e.preventDefault(),te.current.scrollTop=Math.min(o-c,r+c);break;default:return}}},[A,P]);e.useEffect(function(){ve();var e=new ResizeObserver(function(){ve()});return ee.current&&e.observe(ee.current),te.current&&e.observe(te.current),A&&ee.current&&(ee.current.tabIndex=0),function(){se.current&&clearTimeout(se.current),ae.current&&clearTimeout(ae.current),e.disconnect(),document.removeEventListener("mousemove",ge),document.removeEventListener("mouseup",_e)}},[ge,_e,ve]);var Me=r(r(r({},s),x&&{height:"auto",minHeight:"number"==typeof z?"".concat(z,"px"):z,maxHeight:"number"==typeof H?"".concat(H,"px"):H}),W),Se=le&&oe.current?i({thumbMinSize:R||0,trackSize:V.clientWidth,contentSize:V.scrollWidth}):0,ke=le&&Se?c({thumbSize:Se,trackSize:V.clientWidth,contentSize:V.scrollWidth,scrollPosition:V.scrollLeft}):0,Oe=he&&ie.current?i({thumbMinSize:R||0,trackSize:V.clientHeight,contentSize:V.scrollHeight}):0,Te=he&&Oe?c({thumbSize:Oe,trackSize:V.clientHeight,contentSize:V.scrollHeight,scrollPosition:V.scrollTop}):0,xe=_?{}:a,ze=w?{}:u,He=E?{}:l,Re=M?{}:h,Le=S?{}:f,We=x?{opacity:1}:{opacity:Z?1:0,transition:"opacity ".concat(T,"ms")},De=fe?{display:"block"}:{display:"none"},Ae=de?{display:"block"}:{display:"none"};return n.default.createElement("div",{ref:ee,className:"react-custom-scrollbar ".concat(L||""),style:Me,onKeyDown:Ee,tabIndex:A?0:-1,role:A?"region":void 0,"aria-label":A?C:void 0},_?n.default.createElement(_,{ref:te,style:xe,onScroll:pe,children:j}):n.default.createElement("div",{ref:te,style:xe,onScroll:pe,id:"scrollable-content"},j),w?n.default.createElement(w,{ref:ne,style:r(r(r({},ze),We),De),onMouseEnter:be,onMouseLeave:me,onClick:function(e){return we(e,"x")}}):n.default.createElement("div",{ref:ne,style:r(r(r({},ze),We),De),onMouseEnter:be,onMouseLeave:me,onClick:function(e){return we(e,"x")},role:A?"scrollbar":void 0,"aria-orientation":A?"horizontal":void 0,"aria-controls":"scrollable-content","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":Math.round(100*V.left)},M?n.default.createElement(M,{ref:oe,style:r(r({},Re),{width:"".concat(Se,"px"),transform:"translateX(".concat(ke,"px)")}),onMouseDown:function(e){return ye(e,"x")}}):n.default.createElement("div",{ref:oe,style:r(r({},Re),{width:"".concat(Se,"px"),transform:"translateX(".concat(ke,"px)")}),onMouseDown:function(e){return ye(e,"x")}})),E?n.default.createElement(E,{ref:re,style:r(r(r({},He),We),Ae),onMouseEnter:be,onMouseLeave:me,onClick:function(e){return we(e,"y")}}):n.default.createElement("div",{ref:re,style:r(r(r({},He),We),Ae),onMouseEnter:be,onMouseLeave:me,onClick:function(e){return we(e,"y")},role:A?"scrollbar":void 0,"aria-orientation":A?"vertical":void 0,"aria-controls":"scrollable-content","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":Math.round(100*V.top)},S?n.default.createElement(S,{ref:ie,style:r(r({},Le),{height:"".concat(Oe,"px"),transform:"translateY(".concat(Te,"px)")}),onMouseDown:function(e){return ye(e,"y")}}):n.default.createElement("div",{ref:ie,style:r(r({},Le),{height:"".concat(Oe,"px"),transform:"translateY(".concat(Te,"px)")}),onMouseDown:function(e){return ye(e,"y")}})))},exports.setupPolyfills=function(){v()},exports.setupResizeObserverPolyfill=v,exports.supportsPassiveEvents=function(){var e=!1;try{var t={get passive(){return e=!0,!0}};window.addEventListener("test",function(){},t),window.removeEventListener("test",function(){},t)}catch(t){e=!1}return e};
//# sourceMappingURL=index.js.map
