"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=t(e),n=function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)};function o(e){var t=e.scrollLeft,r=e.scrollTop,n=e.scrollWidth,o=e.scrollHeight,c=e.clientWidth,i=e.clientHeight;return{left:t/(n-c)||0,top:r/(o-i)||0,scrollLeft:t,scrollTop:r,scrollWidth:n,scrollHeight:o,clientWidth:c,clientHeight:i}}function c(e){var t=e.thumbMinSize,r=e.trackSize,n=r/e.contentSize;return Math.max(n*r,t)}function i(e){var t=e.thumbSize,r=e.trackSize,n=e.contentSize;return e.scrollPosition*((r-t)/(n-r))}"function"==typeof SuppressedError&&SuppressedError;var l={position:"relative",overflow:"hidden",width:"100%",height:"100%"},u={position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"scroll",WebkitOverflowScrolling:"touch"},a={position:"absolute",height:6,right:2,bottom:2,left:2,borderRadius:3},s={position:"absolute",width:6,right:2,bottom:2,top:2,borderRadius:3},d={position:"absolute",height:"100%",cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0, 0, 0, 0.2)"},f={position:"absolute",width:"100%",cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0, 0, 0, 0.2)"},h={autoHide:!1,autoHideTimeout:1e3,autoHideDuration:200,autoHeight:!1,autoHeightMin:0,autoHeightMax:200,thumbMinSize:30,universal:!1,hideTracksWhenNotNeeded:!1};exports.default=function(t){var m=n(n({},h),t),p=m.onScrollStart,v=m.onScrollStop,b=m.onScroll,g=m.onScrollFrame,S=m.onUpdate,y=m.renderView,H=m.renderTrackHorizontal,k=m.renderTrackVertical,z=m.renderThumbHorizontal,E=m.renderThumbVertical,T=m.autoHide,x=m.autoHideTimeout,M=m.autoHideDuration,W=m.autoHeight,L=m.autoHeightMin,R=m.autoHeightMax,C=m.thumbMinSize;m.universal;var w=m.className,P=m.style,D=m.hideTracksWhenNotNeeded,N=m.children,O=e.useState({left:0,top:0,scrollLeft:0,scrollTop:0,scrollWidth:0,scrollHeight:0,clientWidth:0,clientHeight:0}),X=O[0],Y=O[1],j=e.useState(!1),V=j[0],B=j[1],_=e.useState(!1),q=_[0],F=_[1],U=e.useState(!1),A=U[0],G=U[1],I=e.useState(!T),J=I[0],K=I[1],Q=e.useRef(null),Z=e.useRef(null),$=e.useRef(null),ee=e.useRef(null),te=e.useRef(null),re=e.useRef(null),ne=e.useRef(!1),oe=e.useRef(null),ce=e.useRef(null),ie=e.useRef(null),le=X.scrollWidth>X.clientWidth,ue=X.scrollHeight>X.clientHeight,ae=!D||le,se=!D||ue,de=e.useCallback(function(){if(Z.current){var e=o(Z.current);Y(e),S&&S(e)}},[S]),fe=e.useCallback(function(){if(Z.current){var e=o(Z.current);Y(e),b&&b(e),ne.current||(ne.current=!0,F(!0),p&&p()),g&&g(e),oe.current&&clearTimeout(oe.current),oe.current=setTimeout(function(){ne.current=!1,F(!1),v&&v()},100)}},[b,g,p,v]),he=e.useCallback(function(){G(!0),K(!0)},[]),me=e.useCallback(function(){G(!1),V||q||!T||(ce.current&&clearTimeout(ce.current),ce.current=setTimeout(function(){K(!1)},x))},[T,x,V,q]),pe=e.useCallback(function(e,t){if(e.preventDefault(),e.stopPropagation(),Z.current){var r=e.clientX,n=e.clientY,o=Z.current,c=o.scrollLeft,i=o.scrollTop;B(!0),ie.current={x:r,y:n,left:c,top:i},document.addEventListener("mousemove",ve),document.addEventListener("mouseup",be),document.body.style.cursor="grabbing"}},[]),ve=e.useCallback(function(e){var t,r;if(Z.current&&ie.current){var n=e.clientX,o=e.clientY,c=ie.current,i=c.x,l=c.y,u=c.left,a=c.top,s=Z.current,d=s.clientWidth,f=s.clientHeight,h=s.scrollWidth,m=s.scrollHeight;if(te.current&&d<h){var p=n-i,v=te.current.clientWidth,b=u+p*((h-d)/(((null===(t=$.current)||void 0===t?void 0:t.clientWidth)||0)-v));Z.current.scrollLeft=b}if(re.current&&f<m){var g=o-l,S=(v=re.current.clientHeight,a+g*((m-f)/(((null===(r=ee.current)||void 0===r?void 0:r.clientHeight)||0)-v)));Z.current.scrollTop=S}}},[]),be=e.useCallback(function(){B(!1),ie.current=null,document.removeEventListener("mousemove",ve),document.removeEventListener("mouseup",be),document.body.style.cursor="",!T||A||q||(ce.current&&clearTimeout(ce.current),ce.current=setTimeout(function(){K(!1)},x))},[T,x,q,A]),ge=e.useCallback(function(e,t){if(Z.current){var r=e.clientX,n=e.clientY,o=Z.current,c=o.scrollLeft,l=o.scrollTop,u=o.clientWidth,a=o.clientHeight,s=o.scrollWidth,d=o.scrollHeight;if("x"===t&&$.current&&te.current){var f=$.current.getBoundingClientRect().left,h=te.current.clientWidth,m=r-f,p=(s-u)/((b=$.current.clientWidth)-h);i({thumbSize:h,trackSize:b,contentSize:s,scrollPosition:c});var v=(m-h/2)*p;Z.current.scrollLeft=v}if("y"===t&&ee.current&&re.current){var b,g=ee.current.getBoundingClientRect().top;h=re.current.clientHeight,m=n-g,p=(d-a)/((b=ee.current.clientHeight)-h);i({thumbSize:h,trackSize:b,contentSize:d,scrollPosition:l});var S=(m-h/2)*p;Z.current.scrollTop=S}}},[]);e.useEffect(function(){de();var e=new ResizeObserver(function(){de()});return Q.current&&e.observe(Q.current),Z.current&&e.observe(Z.current),function(){oe.current&&clearTimeout(oe.current),ce.current&&clearTimeout(ce.current),e.disconnect(),document.removeEventListener("mousemove",ve),document.removeEventListener("mouseup",be)}},[ve,be,de]);var Se=n(n(n({},l),W&&{height:"auto",minHeight:"number"==typeof L?"".concat(L,"px"):L,maxHeight:"number"==typeof R?"".concat(R,"px"):R}),P),ye=le&&te.current?c({thumbMinSize:C||0,trackSize:X.clientWidth,contentSize:X.scrollWidth}):0,He=le&&ye?i({thumbSize:ye,trackSize:X.clientWidth,contentSize:X.scrollWidth,scrollPosition:X.scrollLeft}):0,ke=ue&&re.current?c({thumbMinSize:C||0,trackSize:X.clientHeight,contentSize:X.scrollHeight}):0,ze=ue&&ke?i({thumbSize:ke,trackSize:X.clientHeight,contentSize:X.scrollHeight,scrollPosition:X.scrollTop}):0,Ee=y?{}:u,Te=H?{}:a,xe=k?{}:s,Me=z?{}:d,We=E?{}:f,Le=W?{opacity:1}:{opacity:J?1:0,transition:"opacity ".concat(M,"ms")},Re=ae?{display:"block"}:{display:"none"},Ce=se?{display:"block"}:{display:"none"};return r.default.createElement("div",{ref:Q,className:"react-custom-scrollbar ".concat(w||""),style:Se},y?r.default.createElement(y,{ref:Z,style:Ee,onScroll:fe,children:N}):r.default.createElement("div",{ref:Z,style:Ee,onScroll:fe},N),H?r.default.createElement(H,{ref:$,style:n(n(n({},Te),Le),Re),onMouseEnter:he,onMouseLeave:me,onClick:function(e){return ge(e,"x")}}):r.default.createElement("div",{ref:$,style:n(n(n({},Te),Le),Re),onMouseEnter:he,onMouseLeave:me,onClick:function(e){return ge(e,"x")}},z?r.default.createElement(z,{ref:te,style:n(n({},Me),{width:"".concat(ye,"px"),transform:"translateX(".concat(He,"px)")}),onMouseDown:function(e){return pe(e,"x")}}):r.default.createElement("div",{ref:te,style:n(n({},Me),{width:"".concat(ye,"px"),transform:"translateX(".concat(He,"px)")}),onMouseDown:function(e){return pe(e,"x")}})),k?r.default.createElement(k,{ref:ee,style:n(n(n({},xe),Le),Ce),onMouseEnter:he,onMouseLeave:me,onClick:function(e){return ge(e,"y")}}):r.default.createElement("div",{ref:ee,style:n(n(n({},xe),Le),Ce),onMouseEnter:he,onMouseLeave:me,onClick:function(e){return ge(e,"y")}},E?r.default.createElement(E,{ref:re,style:n(n({},We),{height:"".concat(ke,"px"),transform:"translateY(".concat(ze,"px)")}),onMouseDown:function(e){return pe(e,"y")}}):r.default.createElement("div",{ref:re,style:n(n({},We),{height:"".concat(ke,"px"),transform:"translateY(".concat(ze,"px)")}),onMouseDown:function(e){return pe(e,"y")}})))};
//# sourceMappingURL=index.js.map
